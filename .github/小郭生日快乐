local WindUI = loadstring(game:HttpGet("https://github.com/wsomoqaz/CX/releases/latest/download/main.lua"))()

local Window = WindUI:CreateWindow({
    Title = "å°éƒ­ç”Ÿæ—¥å¿«ä¹",
    Icon = "https://raw.githubusercontent.com/wsomoQaz/rOblox/main/1756386771849.png",
    Author = "é€šç”¨",
    Folder = "MyTestHub",
})

local Tab = Window:Tab({
    Title = "ç©å®¶",
    Icon = "https://raw.githubusercontent.com/wsomoQaz/rOblox/main/1756386771849.png",
    Locked = false,
})

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local SpeedInput = Tab:Input({
    Title = "ç§»åŠ¨é€Ÿåº¦è®¾ç½®",
    Desc = "è¾“å…¥æ•°å­—ä¿®æ”¹ç©å®¶é€Ÿåº¦",
    Value = "",
    InputIcon = "zap", -- å›¾æ ‡å¯ä»¥æ”¹ï¼Œæ¯”å¦‚ zapï¼ˆé—ªç”µï¼‰
    Type = "Input",
    Placeholder = "è¯·è¾“å…¥é€Ÿåº¦æ•°å€¼...",
    Callback = function(text)
        local speed = tonumber(text) -- è½¬æ¢ä¸ºæ•°å­—
        if speed then
            LocalPlayer.Character.Humanoid.WalkSpeed = speed
            print("å·²å°†ç§»åŠ¨é€Ÿåº¦ä¿®æ”¹ä¸º: " .. speed)
        else
            print("è¯·è¾“å…¥æ­£ç¡®çš„æ•°å­—ï¼")
        end
    end
})

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local JumpInput = Tab:Input({
    Title = "è·³è·ƒé«˜åº¦è®¾ç½®",
    Desc = "è¾“å…¥æ•°å­—ä¿®æ”¹ç©å®¶è·³è·ƒé«˜åº¦",
    Value = "",
    InputIcon = "arrow-up-from-line", -- å›¾æ ‡ï¼ˆå¾€ä¸Šè·³çš„æ ·å¼ï¼‰
    Type = "Input",
    Placeholder = "è¯·è¾“å…¥è·³è·ƒé«˜åº¦æ•°å€¼...",
    Callback = function(text)
        local jump = tonumber(text) -- è½¬æ¢ä¸ºæ•°å­—
        if jump then
            local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid.UseJumpPower = true -- ç¡®ä¿å¯ç”¨ JumpPower æ¨¡å¼
                humanoid.JumpPower = jump
                print("å·²å°†ç©å®¶è·³è·ƒé«˜åº¦ä¿®æ”¹ä¸º: " .. jump)
            else
                print("æœªæ‰¾åˆ°Humanoidï¼Œå¯èƒ½è§’è‰²è¿˜æ²¡åŠ è½½")
            end
        else
            print("è¯·è¾“å…¥æ­£ç¡®çš„æ•°å­—ï¼")
        end
    end
})

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")

local GravityInput = Tab:Input({
    Title = "é‡åŠ›è®¾ç½®",
    Desc = "è¾“å…¥æ•°å­—ä¿®æ”¹å…¨å±€é‡åŠ› (é»˜è®¤196.2)",
    Value = "",
    InputIcon = "circle-dot", -- å›¾æ ‡éšæ„ï¼Œè¿™é‡Œç”¨åœ†ç‚¹
    Type = "Input",
    Placeholder = "è¯·è¾“å…¥é‡åŠ›æ•°å€¼...",
    Callback = function(text)
        local gravity = tonumber(text) -- è½¬æ¢ä¸ºæ•°å­—
        if gravity then
            Workspace.Gravity = gravity
            print("å·²å°†é‡åŠ›ä¿®æ”¹ä¸º: " .. gravity)
        else
            print("è¯·è¾“å…¥æ­£ç¡®çš„æ•°å­—ï¼")
        end
    end
})



local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

local InfiniteJumpEnabled = false

-- å¼€å…³ï¼šæ— é™è·³è·ƒ
local InfiniteJumpToggle = Tab:Toggle({
    Title = "æ— é™è·³è·ƒ",
    Desc = "å¼€å¯åå¯åœ¨ç©ºä¸­è¿ç»­è·³è·ƒ",
    Icon = "arrow-up-from-line",
    Default = false,
    Callback = function(state)
        InfiniteJumpEnabled = state
        if state then
            print("æ— é™è·³è·ƒå·²å¼€å¯")
        else
            print("æ— é™è·³è·ƒå·²å…³é—­")
        end
    end
})

-- ç›‘å¬ç©å®¶è¾“å…¥è·³è·ƒ
UserInputService.JumpRequest:Connect(function()
    if InfiniteJumpEnabled and LocalPlayer.Character then
        local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end
end)


local Lighting = game:GetService("Lighting")

-- æå‰å‡†å¤‡å¤œè§†æ•ˆæœ
local NightVision = Instance.new("ColorCorrectionEffect")
NightVision.Name = "NightVisionEffect"
NightVision.Brightness = 0.2
NightVision.Contrast = 0.3
NightVision.Saturation = 1
NightVision.TintColor = Color3.fromRGB(150, 255, 150) -- ç»¿è‰²æ»¤é•œ
NightVision.Enabled = false
NightVision.Parent = Lighting

-- å¼€å…³ï¼šå¤œè§†
local NightVisionToggle = Tab:Toggle({
    Title = "å¤œè§†æ¨¡å¼",
    Desc = "å¼€å¯ååœ¨é»‘æš—ä¸­çœ‹å¾—æ›´æ¸…æ¥š",
    Icon = "moon",
    Default = false,
    Callback = function(state)
        NightVision.Enabled = state
        if state then
            print("å¤œè§†å·²å¼€å¯")
        else
            print("å¤œè§†å·²å…³é—­")
        end
    end
})


local Button = Tab:Button({
    Title = "é£è¡ŒæŒ‰é’®",
    Desc = "ç‚¹å‡»ä¼šæœ‰ç”Ÿæ—¥ç¥ç¦",
    Locked = false,
    Callback = function()
game:GetService("StarterGui"):SetCore("SendNotification",{
                Title = "å°éƒ­ç”Ÿæ—¥å¿«ä¹";
                Text ="å°éƒ­ç”Ÿæ—¥å¿«ä¹";
                Duration = 2.5;
            })
-- Gui to Lua
-- Version: 3.2

-- Instances:

local main = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local up = Instance.new("TextButton")
local down = Instance.new("TextButton")
local onof = Instance.new("TextButton")
local TextLabel = Instance.new("TextLabel")
local plus = Instance.new("TextButton")
local speed = Instance.new("TextLabel")
local mine = Instance.new("TextButton")

--Properties:

main.Name = "main"
main.Parent = game.CoreGui
main.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

Frame.Parent = main
Frame.BackgroundColor3 = Color3.fromRGB(163, 255, 137)
Frame.BorderColor3 = Color3.fromRGB(103, 221, 213)
Frame.Position = UDim2.new(0.100320168, 0, 0.379746825, 0)
Frame.Size = UDim2.new(0, 190, 0, 57)

up.Name = "up"
up.Parent = Frame
up.BackgroundColor3 = Color3.fromRGB(79, 255, 152)
up.Size = UDim2.new(0, 44, 0, 28)
up.Font = Enum.Font.SourceSans
up.Text = "UP"
up.TextColor3 = Color3.fromRGB(0, 0, 0)
up.TextSize = 14.000

down.Name = "down"
down.Parent = Frame
down.BackgroundColor3 = Color3.fromRGB(215, 255, 121)
down.Position = UDim2.new(0, 0, 0.491228074, 0)
down.Size = UDim2.new(0, 44, 0, 28)
down.Font = Enum.Font.SourceSans
down.Text = "DOWN"
down.TextColor3 = Color3.fromRGB(0, 0, 0)
down.TextSize = 14.000

onof.Name = "onof"
onof.Parent = Frame
onof.BackgroundColor3 = Color3.fromRGB(255, 249, 74)
onof.Position = UDim2.new(0.702823281, 0, 0.491228074, 0)
onof.Size = UDim2.new(0, 56, 0, 28)
onof.Font = Enum.Font.SourceSans
onof.Text = "fly"
onof.TextColor3 = Color3.fromRGB(0, 0, 0)
onof.TextSize = 14.000

TextLabel.Parent = Frame
TextLabel.BackgroundColor3 = Color3.fromRGB(242, 60, 255)
TextLabel.Position = UDim2.new(0.469327301, 0, 0, 0)
TextLabel.Size = UDim2.new(0, 100, 0, 28)
TextLabel.Font = Enum.Font.SourceSans
TextLabel.Text = "å°éƒ­ç”Ÿæ—¥å¿«ä¹"
TextLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
TextLabel.TextScaled = true
TextLabel.TextSize = 14.000
TextLabel.TextWrapped = true

plus.Name = "plus"
plus.Parent = Frame
plus.BackgroundColor3 = Color3.fromRGB(133, 145, 255)
plus.Position = UDim2.new(0.231578946, 0, 0, 0)
plus.Size = UDim2.new(0, 45, 0, 28)
plus.Font = Enum.Font.SourceSans
plus.Text = "+"
plus.TextColor3 = Color3.fromRGB(0, 0, 0)
plus.TextScaled = true
plus.TextSize = 14.000
plus.TextWrapped = true

speed.Name = "speed"
speed.Parent = Frame
speed.BackgroundColor3 = Color3.fromRGB(255, 85, 0)
speed.Position = UDim2.new(0.468421042, 0, 0.491228074, 0)
speed.Size = UDim2.new(0, 44, 0, 28)
speed.Font = Enum.Font.SourceSans
speed.Text = "1"
speed.TextColor3 = Color3.fromRGB(0, 0, 0)
speed.TextScaled = true
speed.TextSize = 14.000
speed.TextWrapped = true

mine.Name = "mine"
mine.Parent = Frame
mine.BackgroundColor3 = Color3.fromRGB(123, 255, 247)
mine.Position = UDim2.new(0.231578946, 0, 0.491228074, 0)
mine.Size = UDim2.new(0, 45, 0, 29)
mine.Font = Enum.Font.SourceSans
mine.Text = "-"
mine.TextColor3 = Color3.fromRGB(0, 0, 0)
mine.TextScaled = true
mine.TextSize = 14.000
mine.TextWrapped = true

speeds = 1

local speaker = game:GetService("Players").LocalPlayer

local chr = game.Players.LocalPlayer.Character
local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")

nowe = false

Frame.Active = true -- main = gui
Frame.Draggable = true

onof.MouseButton1Down:connect(function()

	if nowe == true then
		nowe = false

		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,true)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,true)
		speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.RunningNoPhysics)
	else 
		nowe = true



		for i = 1, speeds do
			spawn(function()

				local hb = game:GetService("RunService").Heartbeat	


				tpwalking = true
				local chr = game.Players.LocalPlayer.Character
				local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
				while tpwalking and hb:Wait() and chr and hum and hum.Parent do
					if hum.MoveDirection.Magnitude > 0 then
						chr:TranslateBy(hum.MoveDirection)
					end
				end

			end)
		end
		game.Players.LocalPlayer.Character.Animate.Disabled = true
		local Char = game.Players.LocalPlayer.Character
		local Hum = Char:FindFirstChildOfClass("Humanoid") or Char:FindFirstChildOfClass("AnimationController")

		for i,v in next, Hum:GetPlayingAnimationTracks() do
			v:AdjustSpeed(0)
		end
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,false)
		speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,false)
		speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Swimming)
	end




	
		local plr = game.Players.LocalPlayer
		local UpperTorso = plr.Character.LowerTorso
		local flying = true
		local deb = true
		local ctrl = {f = 0, b = 0, l = 0, r = 0}
		local lastctrl = {f = 0, b = 0, l = 0, r = 0}
		local maxspeed = 50
		local speed = 0


		local bg = Instance.new("BodyGyro", UpperTorso)
		bg.P = 9e4
		bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
		bg.cframe = UpperTorso.CFrame
		local bv = Instance.new("BodyVelocity", UpperTorso)
		bv.velocity = Vector3.new(0,0.1,0)
		bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
		if nowe == true then
			plr.Character.Humanoid.PlatformStand = true
		end
		while nowe == true or game:GetService("Players").LocalPlayer.Character.Humanoid.Health == 0 do
			wait()

			if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
				speed = speed+.5+(speed/maxspeed)
				if speed > maxspeed then
					speed = maxspeed
				end
			elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
				speed = speed-1
				if speed < 0 then
					speed = 0
				end
			end
			if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
				bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
				lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
			elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
				bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (lastctrl.f+lastctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(lastctrl.l+lastctrl.r,(lastctrl.f+lastctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
			else
				bv.velocity = Vector3.new(0,0,0)
			end

			bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
		end
		ctrl = {f = 0, b = 0, l = 0, r = 0}
		lastctrl = {f = 0, b = 0, l = 0, r = 0}
		speed = 0
		bg:Destroy()
		bv:Destroy()
		plr.Character.Humanoid.PlatformStand = false
		game.Players.LocalPlayer.Character.Animate.Disabled = false
		tpwalking = false



	





end)


up.MouseButton1Down:connect(function()
	game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,2,0)
	
end)


down.MouseButton1Down:connect(function()

	game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,-2,0)

end)


game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function(char)
	wait(0.7)
	game.Players.LocalPlayer.Character.Humanoid.PlatformStand = false
	game.Players.LocalPlayer.Character.Animate.Disabled = false

end)


plus.MouseButton1Down:connect(function()
	speeds = speeds + 1
	speed.Text = speeds
	if nowe == true then
		

	tpwalking = false
	for i = 1, speeds do
		spawn(function()

			local hb = game:GetService("RunService").Heartbeat	


			tpwalking = true
			local chr = game.Players.LocalPlayer.Character
			local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
			while tpwalking and hb:Wait() and chr and hum and hum.Parent do
				if hum.MoveDirection.Magnitude > 0 then
					chr:TranslateBy(hum.MoveDirection)
				end
			end

		end)
		end
		end
end)
mine.MouseButton1Down:connect(function()
	if speeds == 1 then
		speed.Text = 'can not be less than 1'
		wait(1)
		speed.Text = speeds
	else
	speeds = speeds - 1
		speed.Text = speeds
		if nowe == true then
	tpwalking = false
	for i = 1, speeds do
		spawn(function()

			local hb = game:GetService("RunService").Heartbeat	


			tpwalking = true
			local chr = game.Players.LocalPlayer.Character
			local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
			while tpwalking and hb:Wait() and chr and hum and hum.Parent do
				if hum.MoveDirection.Magnitude > 0 then
					chr:TranslateBy(hum.MoveDirection)
				end
			end

		end)
		end
		end
		end
end)
        print("clicked")
    end
})

local Toggle = Tab:Toggle({
    Title = "ç©¿å¢™å¼€å…³",       -- å¼€å…³æ ‡é¢˜
    Desc = "å¼€å¯åå¯ç›´æ¥ç©¿è¿‡å¢™å£", -- å¼€å…³æè¿°
    Icon = "ghost",           -- å›¾æ ‡ï¼ˆéšæ„ï¼Œä½ ä¹Ÿå¯ä»¥æ¢æˆ "ghost"ï¼‰
    Type = "Checkbox",       -- å¼€å…³ç±»å‹
    Default = false,         -- åˆå§‹çŠ¶æ€ï¼ˆfalse = å…³é—­ï¼Œtrue = é»˜è®¤å¼€å¯ï¼‰
    Callback = function(state) 
        local Players = game:GetService("Players")
        local RunService = game:GetService("RunService")
        local LocalPlayer = Players.LocalPlayer

        if state then
            print("ç©¿å¢™å·²å¼€å¯")
            -- å¯ç”¨ç©¿å¢™
            _G.Noclip = true
            RunService.Stepped:Connect(function()
                if _G.Noclip and LocalPlayer.Character then
                    for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                        if part:IsA("BasePart") and part.CanCollide == true then
                            part.CanCollide = false
                        end
                    end
                end
            end)
        else
            print("ç©¿å¢™å·²å…³é—­")
            -- å…³é—­ç©¿å¢™ï¼šæ¢å¤ç¢°æ’
            _G.Noclip = false
            if LocalPlayer.Character then
                for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = true
                    end
                end
            end
        end
    end
})

-- è¸ç©ºåŠŸèƒ½å˜é‡
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local stepping = false
local platform = nil
local stepConnection = nil

-- è¸ç©ºå¼€å…³å‡½æ•°
local function setStep(state)
    stepping = state
    if stepping then
        platform = Instance.new("Part")
        platform.Size = Vector3.new(6, 1, 6)
        platform.Anchored = true
        platform.Transparency = 1 -- è®¾ç½®ä¸º0.5å¯ä»¥çœ‹åˆ°å¹³å°
        platform.CanCollide = true
        platform.Parent = workspace

        stepConnection = RunService.RenderStepped:Connect(function()
            if stepping and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local root = LocalPlayer.Character.HumanoidRootPart
                platform.CFrame = CFrame.new(root.Position.X, root.Position.Y - 3, root.Position.Z)
            end
        end)
    else
        if platform then
            platform:Destroy()
            platform = nil
        end
        if stepConnection then
            stepConnection:Disconnect()
            stepConnection = nil
        end
    end
end

-- ä¸­æ–‡ Toggle
local Toggle = Tab:Toggle({
    Title = "è¸ç©ºåŠŸèƒ½",
    Desc = "å¼€å…³è¸ç©ºï¼Œåœ¨ç©ºä¸­è¡Œèµ°",
    Default = false, -- é»˜è®¤å…³é—­
    Callback = function(Value)
        setStep(Value)
    end
})

-- æœ¬åœ°è„šæœ¬ï¼šè·³è·ƒé”é«˜åº¦ + å¯èµ°åŠ¨
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local rootPart = nil
local humanoid = nil
local jumpHeight = nil
local connection = nil
local locked = false

-- é”é«˜åº¦å¼€å…³
local function setLock(state)
    locked = state
    if locked then
        if LocalPlayer.Character then
            humanoid = LocalPlayer.Character:WaitForChild("Humanoid")
            rootPart = LocalPlayer.Character:WaitForChild("HumanoidRootPart")
        end

        -- ç›‘å¬è·³è·ƒåŠ¨ä½œ
        UserInputService.JumpRequest:Connect(function()
            if locked and rootPart then
                jumpHeight = rootPart.Position.Y

                if not connection then
                    connection = RunService.RenderStepped:Connect(function()
                        if locked and rootPart and jumpHeight then
                            -- è®©ç©å®¶ä¿æŒé«˜åº¦ï¼Œä½†å¯ä»¥å·¦å³èµ°
                            rootPart.Velocity = Vector3.new(rootPart.Velocity.X, 0, rootPart.Velocity.Z)
                            rootPart.CFrame = CFrame.new(rootPart.Position.X, jumpHeight, rootPart.Position.Z, rootPart.CFrame:components())
                        end
                    end)
                end
            end
        end)
    else
        jumpHeight = nil
        if connection then
            connection:Disconnect()
            connection = nil
        end
    end
end

-- ğŸ”˜ å¦‚æœä½ ç”¨ Fluent UI Toggleï¼š
local Toggle = Tab:Toggle({
    Title = "ç©ºä¸­è¡Œèµ°",
    Desc = "é…åˆæ— é™è·³è·ƒ",
    Default = false,
    Callback = function(Value)
        setLock(Value)
    end
})

local Tab = Window:Tab({
    Title = "aimbot",
    Icon = "https://raw.githubusercontent.com/wsomoQaz/rOblox/main/1756386771849.png",
    Locked = false,
})

local Button = Tab:Button({
    Title = "è‡ªç„",
    Desc = "ç‚¹å‡»æ‰“å¼€è‡ªç„",
    Locked = false,
    Callback = function()
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local camera = workspace.CurrentCamera

-- åˆ›å»ºScreenGui
local ScreenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
ScreenGui.Name = "SciFiGui"

-- ä¸»æ¡†æ¶ (å¸¦å‘å…‰è¾¹æ¡†)
local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 320, 0, 320)
MainFrame.Position = UDim2.new(0.3, 0, 0.3, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 30)
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 16)

-- å‘å…‰è¾¹æ¡†
local GlowFrame = Instance.new("ImageLabel", MainFrame)
GlowFrame.Size = UDim2.new(1, 20, 1, 20)
GlowFrame.Position = UDim2.new(0, -10, 0, -10)
GlowFrame.BackgroundTransparency = 1
GlowFrame.Image = "rbxassetid://3521144369"
GlowFrame.ImageColor3 = Color3.fromRGB(0, 170, 255)
GlowFrame.ScaleType = Enum.ScaleType.Slice
GlowFrame.SliceCenter = Rect.new(10, 10, 118, 118)
GlowFrame.ZIndex = 0

-- æ ‡é¢˜é˜´å½±
local TitleShadow = Instance.new("TextLabel", MainFrame)
TitleShadow.Size = UDim2.new(1, 0, 0, 30)
TitleShadow.Position = UDim2.new(0, 2, 0, 2)
TitleShadow.BackgroundTransparency = 1
TitleShadow.Text = "aimbot"
TitleShadow.TextColor3 = Color3.fromRGB(0, 255, 255)
TitleShadow.Font = Enum.Font.GothamBold
TitleShadow.TextScaled = true
TitleShadow.ZIndex = 2
TitleShadow.TextTransparency = 0.7

-- ä¸»æ ‡é¢˜
local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "aimbot"
Title.TextColor3 = Color3.fromRGB(0, 230, 255)
Title.Font = Enum.Font.GothamBold
Title.TextScaled = true
Title.ZIndex = 3

-- å…³é—­æŒ‰é’®
local CloseButton = Instance.new("TextButton", MainFrame)
CloseButton.Size = UDim2.new(0, 36, 0, 36)
CloseButton.Position = UDim2.new(1, -42, 0, 6)
CloseButton.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
CloseButton.TextColor3 = Color3.new(1, 1, 1)
CloseButton.Text = "X"
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextScaled = true
CloseButton.AutoButtonColor = false
Instance.new("UICorner", CloseButton).CornerRadius = UDim.new(1, 0)
CloseButton.ZIndex = 4

-- å…³é—­æŒ‰é’®æ‚¬æµ®æ•ˆæœ
CloseButton.MouseEnter:Connect(function()
    CloseButton.BackgroundColor3 = Color3.fromRGB(0, 210, 255)
end)
CloseButton.MouseLeave:Connect(function()
    CloseButton.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
end)

-- å†…å®¹å®¹å™¨
local ContentFrame = Instance.new("Frame", MainFrame)
ContentFrame.Position = UDim2.new(0, 0, 0, 40)
ContentFrame.Size = UDim2.new(1, 0, 1, -40)
ContentFrame.BackgroundTransparency = 1

-- åˆ›å»ºç§‘å¹»é£æŒ‰é’®å‡½æ•°
local function createSciFiButton(parent, text, posY)
    local btn = Instance.new("TextButton", parent)
    btn.Size = UDim2.new(1, -30, 0, 40)
    btn.Position = UDim2.new(0, 15, 0, posY)
    btn.BackgroundColor3 = Color3.fromRGB(0, 100, 160)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.GothamBold
    btn.TextScaled = true
    btn.Text = text
    btn.AutoButtonColor = false
    btn.ZIndex = 5
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 12)

    btn.MouseEnter:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(0, 180, 255)
    end)
    btn.MouseLeave:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(0, 100, 160)
    end)

    return btn
end

-- æŒ‰é’®å’Œè¾“å…¥æ¡†
local ToggleFov = createSciFiButton(ContentFrame, "FOV ç¯ï¼šå…³é—­", 0)
local ToggleAimbot = createSciFiButton(ContentFrame, "Aimbotï¼šå…³é—­", 50)
local ToggleTeamCheck = createSciFiButton(ContentFrame, "é˜µå®¹åˆ¤æ–­ï¼šå¼€å¯", 100)

local InputBox = Instance.new("TextBox", ContentFrame)
InputBox.Size = UDim2.new(1, -30, 0, 40)
InputBox.Position = UDim2.new(0, 15, 0, 150)
InputBox.PlaceholderText = "è¾“å…¥ FOV åŠå¾„ï¼Œä¾‹å¦‚ 100"
InputBox.BackgroundColor3 = Color3.fromRGB(15, 25, 50)
InputBox.TextColor3 = Color3.fromRGB(0, 255, 255)
InputBox.Font = Enum.Font.GothamSemibold
InputBox.TextScaled = true
InputBox.Text = ""
InputBox.ZIndex = 5
Instance.new("UICorner", InputBox).CornerRadius = UDim.new(0, 12)
InputBox.TextStrokeTransparency = 0.7

-- åœ†å½¢æ‚¬æµ®æŒ‰é’®
local FloatingButton = Instance.new("ImageButton", ScreenGui)
FloatingButton.Size = UDim2.new(0, 50, 0, 50)
FloatingButton.Position = UDim2.new(0, 20, 0, 200)
FloatingButton.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
FloatingButton.Visible = false
FloatingButton.Image = ""
Instance.new("UICorner", FloatingButton).CornerRadius = UDim.new(1, 0)
FloatingButton.ZIndex = 10

-- æ‚¬æµ®æŒ‰é’®æ‹–åŠ¨å˜é‡
local fbDragging = false
local fbDragStart
local fbStartPos

local function updateFloatingButtonDrag(input)
    local delta = input.Position - fbDragStart
    local newX = math.clamp(fbStartPos.X.Offset + delta.X, 0, camera.ViewportSize.X - FloatingButton.AbsoluteSize.X)
    local newY = math.clamp(fbStartPos.Y.Offset + delta.Y, 0, camera.ViewportSize.Y - FloatingButton.AbsoluteSize.Y)
    FloatingButton.Position = UDim2.new(0, newX, 0, newY)
end

FloatingButton.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        fbDragging = true
        fbDragStart = input.Position
        fbStartPos = FloatingButton.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                fbDragging = false
            end
        end)
    end
end)

FloatingButton.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement and fbDragging then
        updateFloatingButtonDrag(input)
    end
end)

FloatingButton.MouseEnter:Connect(function()
    FloatingButton.BackgroundColor3 = Color3.fromRGB(0, 210, 255)
end)
FloatingButton.MouseLeave:Connect(function()
    FloatingButton.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
end)

FloatingButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = true
    FloatingButton.Visible = false
end)

CloseButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = false
    FloatingButton.Visible = true
end)

-- è‡ªå®šä¹‰æ ‡é¢˜æ æ‹–åŠ¨ï¼ˆåªç»‘å®šåœ¨æ ‡é¢˜Titleï¼‰
local dragging = false
local dragStartPos = nil
local frameStartPos = nil

Title.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStartPos = input.Position
        frameStartPos = MainFrame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

Title.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStartPos
        MainFrame.Position = UDim2.new(
            frameStartPos.X.Scale,
            frameStartPos.X.Offset + delta.X,
            frameStartPos.Y.Scale,
            frameStartPos.Y.Offset + delta.Y
        )
    end
end)

-- Drawingåº“ç»˜åˆ¶FOVåœ†
local FovCircle = Drawing.new("Circle")
FovCircle.Visible = false
FovCircle.Color = Color3.fromRGB(0, 170, 255)
FovCircle.Thickness = 2
FovCircle.NumSides = 100
FovCircle.Filled = false
FovCircle.Position = Vector2.new(camera.ViewportSize.X/2, camera.ViewportSize.Y/2)
FovCircle.Radius = 100

-- Drawingåå­—å’Œè·ç¦»æ˜¾ç¤º
local NameLabel = Drawing.new("Text")
NameLabel.Visible = false
NameLabel.Color = Color3.fromRGB(0, 255, 255)
NameLabel.Size = 18
NameLabel.Center = true
NameLabel.Outline = true
NameLabel.OutlineColor = Color3.new(0, 0, 0)

local DistanceLabel = Drawing.new("Text")
DistanceLabel.Visible = false
DistanceLabel.Color = Color3.fromRGB(0, 255, 255)
DistanceLabel.Size = 14
DistanceLabel.Center = true
DistanceLabel.Outline = true
DistanceLabel.OutlineColor = Color3.new(0, 0, 0)

-- æ§åˆ¶å˜é‡
local fovEnabled = false
local aimbotEnabled = false
local teamCheckEnabled = true

ToggleFov.MouseButton1Click:Connect(function()
    fovEnabled = not fovEnabled
    FovCircle.Visible = fovEnabled
    ToggleFov.Text = fovEnabled and "FOV ç¯ï¼šå…³é—­" or "FOV ç¯ï¼šå¼€å¯"
end)

ToggleAimbot.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    ToggleAimbot.Text = aimbotEnabled and "Aimbotï¼šå…³é—­" or "Aimbotï¼šå¼€å¯"
end)

ToggleTeamCheck.MouseButton1Click:Connect(function()
    teamCheckEnabled = not teamCheckEnabled
    if teamCheckEnabled then
        ToggleTeamCheck.Text = "é˜µå®¹åˆ¤æ–­ï¼šå¼€å¯"
        ToggleTeamCheck.BackgroundColor3 = Color3.fromRGB(0, 50, 0)
    else
        ToggleTeamCheck.Text = "é˜µå®¹åˆ¤æ–­ï¼šå…³é—­"
        ToggleTeamCheck.BackgroundColor3 = Color3.fromRGB(50, 0, 0)
    end
end)

InputBox.FocusLost:Connect(function(enter)
    if enter then
        local radius = tonumber(InputBox.Text)
        if radius and radius > 0 then
            FovCircle.Radius = radius
        else
            InputBox.Text = ""
            warn("è¯·è¾“å…¥åˆæ³•æ•°å­—")
        end
    end
end)

-- Aimbotä¸»é€»è¾‘
RunService.RenderStepped:Connect(function()
    if not (fovEnabled and aimbotEnabled) then
        NameLabel.Visible = false
        DistanceLabel.Visible = false
        return
    end

    local closestTarget = nil
    local shortestDistToScreenCenter = math.huge
    local screenCenter = Vector2.new(camera.ViewportSize.X/2, camera.ViewportSize.Y/2)

    for _, target in ipairs(Players:GetPlayers()) do
        if target ~= player and target.Character and target.Character:FindFirstChild("Head") then
            if not teamCheckEnabled or target.Team ~= player.Team then
                local headPos, onScreen = camera:WorldToViewportPoint(target.Character.Head.Position)
                if onScreen then
                    local screenPoint = Vector2.new(headPos.X, headPos.Y)
                    local distFromFovCenter = (screenPoint - FovCircle.Position).Magnitude

                    if distFromFovCenter <= FovCircle.Radius then
                        local distToCenter = (screenPoint - screenCenter).Magnitude
                        if distToCenter < shortestDistToScreenCenter then
                            shortestDistToScreenCenter = distToCenter
                            closestTarget = target
                        end
                    end
                end
            end
        end
    end

    if closestTarget and closestTarget.Character and closestTarget.Character:FindFirstChild("Head") then
        local headPos3 = closestTarget.Character.Head.Position
        camera.CFrame = CFrame.new(camera.CFrame.Position, headPos3)

        local screenPos, onScreen = camera:WorldToViewportPoint(headPos3)
        if onScreen then
            NameLabel.Visible = true
            DistanceLabel.Visible = true
            NameLabel.Position = Vector2.new(screenPos.X, screenPos.Y - 25)
            DistanceLabel.Position = Vector2.new(screenPos.X, screenPos.Y - 5)
            NameLabel.Text = closestTarget.Name
            local dist = math.floor((player.Character.Head.Position - headPos3).Magnitude)
            DistanceLabel.Text = tostring(dist) .. " studs"
        else
            NameLabel.Visible = false
            DistanceLabel.Visible = false
        end
    else
        NameLabel.Visible = false
        DistanceLabel.Visible = false
    end
end)
        print("clicked")
    end
})
